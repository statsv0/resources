function prevGroup(a){const b=a.stats;const c=b[b.length-1];const d=b[b.length-2];return d&&c&&d.group-c.group}function getColorPrevGroup(a){return prevGroup(a)>=0?"green":"red"}function prevPosition(a){const b="round";const c=a.stats&&a.stats.reduce(function(a,c){return a[b]>c[b]?a:c},{})[b];const d=a&&a.stats||[];const e=d.find((a,b)=>a.round===c);const f=d.find((a,b)=>a.round===c-1);return e&&f&&f.position-e.position}function bestRanking(a,b){const c=[...a.stats];c.pop();return c.reduce(function(a,c){return a[b]<c[b]?a:c},{})[b]}function bestRankingWeeks(a){const b=bestRanking(a,"position");const c=[...a.stats];c.pop();const d=c.filter(a=>a.position===b);return d.length}function getAge(a=""){const b=new Date(a.split("/")[2],a.split("/")[1],a.split("/")[0]);var c=Date.now()-b.getTime();var d=new Date(c);return Math.abs(d.getUTCFullYear()-1970)}function getRankBorder(a){if(a<=10){return"top10"}if(a>10&&a<=20){return"top20"}if(a>20&&a<=50){return"top50"}if(a>50&&a<=100){return"100"}return""}function gT(a,c){return a.stats.reduce(function(d,a){return d+a[c]},0)}function printRow(a,b,c){const e=b[c];let f=document.createElement("tr");function d(a,b){f.setAttribute(a,b)}d("scope","row");const g=c+1;g<=10&&d("class","top10-row");g>10&&g<=20&&d("class","top20-row");g>20&&g<=50&&d("class","top50-row");g>50&&g<=100&&d("class","top100-row");g===11&&d("id","top20");g===21&&d("id","top50");g===51&&d("id","top100");const h=[`<td class="rank ${getRankBorder(g)}">${g}</td>`,`<td class="name"><a href="javascript:void(0);">${e.clubName}</a></td>`,`<td class="col white rank-icon ${getColorPrevGroup(e)}"><span>${prevGroup(e)>0?"+":""}${prevGroup(e)||"="}</span></td>`,`<td class="col grey-back">${bestRanking(e,"position")||"NM"}</td>`,`<td class="col">${bestRankingWeeks(e)||""}</td>`,`<td class="col">${getAge(e.birth)}</td>`,`<td class="col grey-back">${e.stats.length}</td>`,`<td class="col">${gT(e,"wins")}</td>`,`<td class="col">${gT(e,"losses")}</td>`,`<td class="col">${gT(e,"notPlayed")}</td>`,`<td class="col grey-back">${gT(e,"w2s")}</td>`,`<td class="col">${gT(e,"w3s")}</td>`,`<td class="col">${gT(e,"l2s")}</td>`,`<td class="col">${gT(e,"l3s")}</td>`,`<td class="col grey-back">${gT(e,"tt")}</td>`,`<td class="col">${gT(e,"tw")}</td>`,`<td class="col">${gT(e,"tl")}</td>`];f.innerHTML=h.join("");a.appendChild(f)}function mapper(a){let b=document.getElementById("list");for(y=0;y<a.length;++y){printRow(b,a,y)}}Promise.all([new Promise((a,b)=>{return fetch("https://raw.githubusercontent.com/statsv0/s/refs/heads/main/cetm.json").then(b=>a(b.json()))})]).then(a=>{mapper(a[0])});